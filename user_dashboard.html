<!DOCTYPE html>
<html>
<head>
    <title>User Dashboard</title>
</head>
<body>
    <h1>Welcome to Your Dashboard</h1>
    
    <div id="user-info">
        <!-- Display user's display name and email -->
    </div>
    
    <button id="logout">Log out</button>

    <script type = "module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
        const firebaseConfig = {
            apiKey: "AIzaSyCqdRFXYfChIyW0Mhu-iE9hxhp_Fe2VgdU",
            authDomain: "otap-website-auth.firebaseapp.com",
            projectId: "otap-website-auth",
            storageBucket: "otap-website-auth.appspot.com",
            messagingSenderId: "889589100403",
            appId: "1:889589100403:web:1f171ee5454fb2cf831f06",
            measurementId: "G-7CRCM9B89S"
		};

        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        // Check authentication state
        auth.onAuthStateChanged(user => {
            if (user) {
                document.getElementById('user-info').innerHTML = `
                    <p>Hello, ${user.displayName}!</p>
                    <p>Email: ${user.email}</p>
                `;

                const signOutButton = document.getElementById('logout');
                signOutButton.addEventListener("click", function() {
                    signOut(auth).then(() => {
                        console.log('Log out successful.');
                        window.location.href = 'index.html';
89                        //document.getElementById('logout').style.display = 'none';
                        }).catch((error) => {
                        console.log('An error happened.');
                    });		  		  
                });
            } else {
                
            }
        });
    </script>
</body>
</html>
